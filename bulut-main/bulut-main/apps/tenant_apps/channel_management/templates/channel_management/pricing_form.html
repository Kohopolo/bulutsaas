{% extends "tenant/base.html" %}
{% load static %}

{% block title %}{% if pricing %}Kanal Fiyatı Düzenle{% else %}Yeni Kanal Fiyatı{% endif %}{% endblock %}

{% block content %}
<style>
.form-control,
input.form-control,
select.form-control,
textarea.form-control {
    padding: 6px 10px !important;
    border: 1px solid #ced4da !important;
    border-radius: 3px !important;
    background: white !important;
    font-size: 13px !important;
    color: #333 !important;
    width: 100% !important;
    display: block !important;
    box-sizing: border-box !important;
}
</style>
<div class="content-body">
    <div class="groupbox">
        <div class="groupbox-header">
            <i class="fas fa-{% if pricing %}edit{% else %}plus{% endif %}"></i>
            {% if pricing %}Kanal Fiyatı Düzenle{% else %}Yeni Kanal Fiyatı{% endif %}
            <div style="float: right;">
                <a href="{% url 'channel_management:pricing_list' %}" class="vb-button">
                    <i class="fas fa-arrow-left"></i> Geri
                </a>
            </div>
        </div>
        <div class="groupbox-body">
            <form method="post">
                {% csrf_token %}
                
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                    <div class="form-group">
                        <label for="{{ form.configuration.id_for_label }}">{{ form.configuration.label }}</label>
                        {{ form.configuration }}
                        {% if form.configuration.errors %}
                        <div class="error-message" style="color: #dc3545; font-size: 12px; margin-top: 4px;">{{ form.configuration.errors }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="form-group">
                        <label for="{{ form.room.id_for_label }}">{{ form.room.label }}</label>
                        {{ form.room }}
                        {% if form.room.errors %}
                        <div class="error-message" style="color: #dc3545; font-size: 12px; margin-top: 4px;">{{ form.room.errors }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="form-group">
                        <label for="{{ form.start_date.id_for_label }}">{{ form.start_date.label }}</label>
                        {{ form.start_date }}
                        {% if form.start_date.errors %}
                        <div class="error-message" style="color: #dc3545; font-size: 12px; margin-top: 4px;">{{ form.start_date.errors }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="form-group">
                        <label for="{{ form.end_date.id_for_label }}">{{ form.end_date.label }}</label>
                        {{ form.end_date }}
                        {% if form.end_date.errors %}
                        <div class="error-message" style="color: #dc3545; font-size: 12px; margin-top: 4px;">{{ form.end_date.errors }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="form-group">
                        <label for="{{ form.base_price.id_for_label }}">{{ form.base_price.label }}</label>
                        {{ form.base_price }}
                        {% if form.base_price.errors %}
                        <div class="error-message" style="color: #dc3545; font-size: 12px; margin-top: 4px;">{{ form.base_price.errors }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="form-group">
                        <label for="{{ form.channel_price.id_for_label }}">{{ form.channel_price.label }}</label>
                        {{ form.channel_price }}
                        {% if form.channel_price.errors %}
                        <div class="error-message" style="color: #dc3545; font-size: 12px; margin-top: 4px;">{{ form.channel_price.errors }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="form-group">
                        <label for="{{ form.currency.id_for_label }}">{{ form.currency.label }}</label>
                        {{ form.currency }}
                        {% if form.currency.errors %}
                        <div class="error-message" style="color: #dc3545; font-size: 12px; margin-top: 4px;">{{ form.currency.errors }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="form-group">
                        <label for="{{ form.availability.id_for_label }}">{{ form.availability.label }}</label>
                        {{ form.availability }}
                        {% if form.availability.errors %}
                        <div class="error-message" style="color: #dc3545; font-size: 12px; margin-top: 4px;">{{ form.availability.errors }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="form-group">
                        <label for="{{ form.min_stay.id_for_label }}">{{ form.min_stay.label }}</label>
                        {{ form.min_stay }}
                        {% if form.min_stay.errors %}
                        <div class="error-message" style="color: #dc3545; font-size: 12px; margin-top: 4px;">{{ form.min_stay.errors }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="form-group">
                        <label for="{{ form.max_stay.id_for_label }}">{{ form.max_stay.label }}</label>
                        {{ form.max_stay }}
                        {% if form.max_stay.errors %}
                        <div class="error-message" style="color: #dc3545; font-size: 12px; margin-top: 4px;">{{ form.max_stay.errors }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="form-group">
                        <label for="{{ form.cancellation_policy.id_for_label }}">{{ form.cancellation_policy.label }}</label>
                        {{ form.cancellation_policy }}
                        {% if form.cancellation_policy.errors %}
                        <div class="error-message" style="color: #dc3545; font-size: 12px; margin-top: 4px;">{{ form.cancellation_policy.errors }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="form-group">
                        <label for="{{ form.free_cancellation_until.id_for_label }}">{{ form.free_cancellation_until.label }}</label>
                        {{ form.free_cancellation_until }}
                        {% if form.free_cancellation_until.errors %}
                        <div class="error-message" style="color: #dc3545; font-size: 12px; margin-top: 4px;">{{ form.free_cancellation_until.errors }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="form-group" style="grid-column: span 2;">
                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                            {{ form.is_active }}
                            <span>{{ form.is_active.label }}</span>
                        </label>
                        {% if form.is_active.errors %}
                        <div class="error-message" style="color: #dc3545; font-size: 12px; margin-top: 4px;">{{ form.is_active.errors }}</div>
                        {% endif %}
                    </div>
                </div>
                
                <div style="margin-top: 20px; text-align: right;">
                    <a href="{% url 'channel_management:pricing_list' %}" class="vb-button">
                        <i class="fas fa-times"></i> İptal
                    </a>
                    <button type="submit" class="vb-button primary">
                        <i class="fas fa-save"></i> Kaydet
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}

