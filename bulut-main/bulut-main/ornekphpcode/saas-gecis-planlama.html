<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAAS GeÃ§iÅŸ Planlama - Mevcut Sistem Korunarak</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        .container {
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        .header {
            text-align: center;
            border-bottom: 3px solid #2c3e50;
            padding-bottom: 30px;
            margin-bottom: 40px;
        }
        .header h1 {
            color: #2c3e50;
            font-size: 32px;
            margin: 0;
            font-weight: 700;
        }
        .section {
            margin-bottom: 40px;
        }
        .section h2 {
            color: #34495e;
            font-size: 24px;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 25px;
            font-weight: 600;
        }
        .section h3 {
            color: #2c3e50;
            font-size: 18px;
            margin-top: 30px;
            margin-bottom: 15px;
            font-weight: 600;
        }
        .approach-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        .safe-approach {
            background: linear-gradient(135deg, #d5f4e6 0%, #a8e6cf 100%);
            padding: 25px;
            border-radius: 10px;
            border-left: 5px solid #27ae60;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .risky-approach {
            background: linear-gradient(135deg, #fadbd8 0%, #f1948a 100%);
            padding: 25px;
            border-radius: 10px;
            border-left: 5px solid #e74c3c;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .safe-approach h3, .risky-approach h3 {
            margin-top: 0;
            font-size: 20px;
        }
        .safe-approach h3 {
            color: #27ae60;
        }
        .risky-approach h3 {
            color: #e74c3c;
        }
        .feature-list {
            list-style: none;
            padding: 0;
        }
        .feature-list li {
            padding: 8px 0;
            border-bottom: 1px dotted #bdc3c7;
            position: relative;
            padding-left: 25px;
        }
        .feature-list li:before {
            content: "â˜ ";
            color: #3498db;
            font-weight: bold;
            position: absolute;
            left: 0;
        }
        .step-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .step-card {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
            transition: all 0.3s ease;
        }
        .step-card:hover {
            border-color: #3498db;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.2);
        }
        .step-card h4 {
            color: #2c3e50;
            margin-top: 0;
            font-size: 18px;
        }
        .code-example {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            overflow-x: auto;
        }
        .priority-high {
            color: #e74c3c;
            font-weight: bold;
            background: #fadbd8;
            padding: 2px 8px;
            border-radius: 4px;
        }
        .priority-medium {
            color: #f39c12;
            font-weight: bold;
            background: #fef9e7;
            padding: 2px 8px;
            border-radius: 4px;
        }
        .priority-low {
            color: #27ae60;
            font-weight: bold;
            background: #d5f4e6;
            padding: 2px 8px;
            border-radius: 4px;
        }
        .timeline {
            background: #f8f9fa;
            border-left: 4px solid #3498db;
            padding: 20px;
            margin: 20px 0;
        }
        .timeline-item {
            margin-bottom: 20px;
            padding-left: 20px;
            position: relative;
        }
        .timeline-item:before {
            content: "â—";
            color: #3498db;
            font-size: 20px;
            position: absolute;
            left: -8px;
            top: 0;
        }
        .print-button {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #3498db;
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
            transition: all 0.3s ease;
        }
        .print-button:hover {
            background: #2980b9;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(52, 152, 219, 0.4);
        }
        .footer {
            text-align: center;
            font-size: 12px;
            color: #7f8c8d;
            border-top: 2px solid #bdc3c7;
            padding-top: 20px;
            margin-top: 40px;
        }
        @media print {
            body { background: white; }
            .container { box-shadow: none; }
            .print-button { display: none; }
        }
    </style>
</head>
<body>
    <button class="print-button" onclick="window.print()">ğŸ–¨ï¸ PDF Olarak YazdÄ±r</button>
    
    <div class="container">
        <div class="header">
            <h1>ğŸ”„ SAAS GeÃ§iÅŸ Planlama</h1>
            <h2>Mevcut Native PHP Sistemini Koruyarak SAAS DÃ¶nÃ¼ÅŸÃ¼mÃ¼</h2>
            <p>Analiz Tarihi: 16.10.2025 17:00</p>
            <p>Hedef: SÄ±fÄ±r kesinti ile SAAS geÃ§iÅŸi</p>
        </div>

        <div class="section">
            <h2>ğŸ¯ YaklaÅŸÄ±m Stratejisi</h2>
            
            <div class="approach-grid">
                <div class="safe-approach">
                    <h3>âœ… GÃ¼venli YaklaÅŸÄ±m (Ã–nerilen)</h3>
                    <ul>
                        <li>Mevcut kodu koruma</li>
                        <li>AdÄ±m adÄ±m geÃ§iÅŸ</li>
                        <li>Backward compatibility</li>
                        <li>Test ortamÄ±nda geliÅŸtirme</li>
                        <li>Kademeli rollout</li>
                        <li>Rollback planÄ±</li>
                    </ul>
                </div>
                <div class="risky-approach">
                    <h3>âŒ Riskli YaklaÅŸÄ±m (KaÃ§Ä±nÄ±lmalÄ±)</h3>
                    <ul>
                        <li>Toplu kod deÄŸiÅŸikliÄŸi</li>
                        <li>Big bang geÃ§iÅŸ</li>
                        <li>Mevcut sistemi bozma</li>
                        <li>Test etmeden canlÄ±ya alma</li>
                        <li>Rollback planÄ± olmadan</li>
                        <li>Tek seferde tÃ¼m Ã¶zellikler</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ—ï¸ AdÄ±m AdÄ±m GeÃ§iÅŸ PlanÄ±</h2>
            
            <div class="step-grid">
                <div class="step-card">
                    <h4><span class="priority-high">AdÄ±m 1: Tenant Sistemi</span></h4>
                    <p><strong>SÃ¼re:</strong> 2-3 hafta</p>
                    <p><strong>Hedef:</strong> Mevcut sistemi tenant-aware yapma</p>
                    <ul>
                        <li>Tenant ID ekleme</li>
                        <li>Database ÅŸemasÄ± gÃ¼ncelleme</li>
                        <li>Session yÃ¶netimi</li>
                        <li>URL routing</li>
                    </ul>
                </div>

                <div class="step-card">
                    <h4><span class="priority-high">AdÄ±m 2: KullanÄ±cÄ± YÃ¶netimi</span></h4>
                    <p><strong>SÃ¼re:</strong> 2-3 hafta</p>
                    <p><strong>Hedef:</strong> Multi-tenant kullanÄ±cÄ± sistemi</p>
                    <ul>
                        <li>Tenant bazlÄ± kullanÄ±cÄ±lar</li>
                        <li>Rol yÃ¶netimi gÃ¼ncelleme</li>
                        <li>Yetki sistemi</li>
                        <li>Login sistemi</li>
                    </ul>
                </div>

                <div class="step-card">
                    <h4><span class="priority-medium">AdÄ±m 3: ModÃ¼l Sistemi</span></h4>
                    <p><strong>SÃ¼re:</strong> 3-4 hafta</p>
                    <p><strong>Hedef:</strong> Paket bazlÄ± modÃ¼l eriÅŸimi</p>
                    <ul>
                        <li>ModÃ¼l tanÄ±mlama</li>
                        <li>Paket sistemi</li>
                        <li>Yetki kontrolÃ¼</li>
                        <li>UI gÃ¼ncelleme</li>
                    </ul>
                </div>

                <div class="step-card">
                    <h4><span class="priority-medium">AdÄ±m 4: Billing Sistemi</span></h4>
                    <p><strong>SÃ¼re:</strong> 2-3 hafta</p>
                    <p><strong>Hedef:</strong> Ã–deme ve faturalandÄ±rma</p>
                    <ul>
                        <li>Paket yÃ¶netimi</li>
                        <li>Ã–deme entegrasyonu</li>
                        <li>Fatura sistemi</li>
                        <li>KullanÄ±m takibi</li>
                    </ul>
                </div>

                <div class="step-card">
                    <h4><span class="priority-low">AdÄ±m 5: API GeliÅŸtirme</span></h4>
                    <p><strong>SÃ¼re:</strong> 3-4 hafta</p>
                    <p><strong>Hedef:</strong> RESTful API yapÄ±sÄ±</p>
                    <ul>
                        <li>API endpoint'leri</li>
                        <li>Authentication</li>
                        <li>Rate limiting</li>
                        <li>Documentation</li>
                    </ul>
                </div>

                <div class="step-card">
                    <h4><span class="priority-low">AdÄ±m 6: Yeni SektÃ¶rler</span></h4>
                    <p><strong>SÃ¼re:</strong> 4-6 hafta</p>
                    <p><strong>Hedef:</strong> Ã‡oklu sektÃ¶r desteÄŸi</p>
                    <ul>
                        <li>Tur acentesi modÃ¼lÃ¼</li>
                        <li>Feribot bileti modÃ¼lÃ¼</li>
                        <li>DevremÃ¼lk modÃ¼lÃ¼</li>
                        <li>Bungalov modÃ¼lÃ¼</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ’» Teknik Implementasyon</h2>
            
            <h3>1. Tenant Sistemi - Mevcut Kodu Koruyarak</h3>
            <div class="code-example">
// Mevcut config.php'ye ekleme
class TenantManager {
    private static $currentTenant = null;
    
    public static function setTenant($tenantId) {
        self::$currentTenant = $tenantId;
        $_SESSION['tenant_id'] = $tenantId;
    }
    
    public static function getCurrentTenant() {
        return self::$currentTenant ?? $_SESSION['tenant_id'] ?? null;
    }
    
    public static function getTenantDatabase($tenantId = null) {
        $tenantId = $tenantId ?? self::getCurrentTenant();
        return "tenant_{$tenantId}";
    }
}

// Mevcut database.php'yi gÃ¼ncelleme
function getTenantConnection() {
    $tenantId = TenantManager::getCurrentTenant();
    if (!$tenantId) {
        throw new Exception('Tenant ID bulunamadÄ±');
    }
    
    $dbName = TenantManager::getTenantDatabase($tenantId);
    return new PDO("mysql:host=$host;dbname=$dbName;charset=utf8", $username, $password);
}
            </div>

            <h3>2. Mevcut Tablolara Tenant ID Ekleme</h3>
            <div class="code-example">
-- Mevcut tablolara tenant_id sÃ¼tunu ekleme (geriye dÃ¶nÃ¼k uyumlu)
ALTER TABLE rezervasyonlar ADD COLUMN tenant_id INT DEFAULT 1;
ALTER TABLE musteriler ADD COLUMN tenant_id INT DEFAULT 1;
ALTER TABLE odalar ADD COLUMN tenant_id INT DEFAULT 1;
ALTER TABLE oda_tipleri ADD COLUMN tenant_id INT DEFAULT 1;

-- Index ekleme
CREATE INDEX idx_tenant_rezervasyonlar ON rezervasyonlar(tenant_id);
CREATE INDEX idx_tenant_musteriler ON musteriler(tenant_id);
CREATE INDEX idx_tenant_odalar ON odalar(tenant_id);
CREATE INDEX idx_tenant_oda_tipleri ON oda_tipleri(tenant_id);

-- Mevcut verileri gÃ¼ncelleme
UPDATE rezervasyonlar SET tenant_id = 1 WHERE tenant_id IS NULL;
UPDATE musteriler SET tenant_id = 1 WHERE tenant_id IS NULL;
UPDATE odalar SET tenant_id = 1 WHERE tenant_id IS NULL;
UPDATE oda_tipleri SET tenant_id = 1 WHERE tenant_id IS NULL;
            </div>

            <h3>3. Mevcut Query'leri GÃ¼ncelleme</h3>
            <div class="code-example">
// Mevcut functions.php'deki fonksiyonlarÄ± gÃ¼ncelleme
function getRezervasyonlar($filters = []) {
    $tenantId = TenantManager::getCurrentTenant();
    $pdo = getTenantConnection();
    
    $sql = "SELECT * FROM rezervasyonlar WHERE tenant_id = ?";
    $params = [$tenantId];
    
    // Mevcut filtreler korunuyor
    if (isset($filters['durum'])) {
        $sql .= " AND durum = ?";
        $params[] = $filters['durum'];
    }
    
    $stmt = $pdo->prepare($sql);
    $stmt->execute($params);
    return $stmt->fetchAll(PDO::FETCH_ASSOC);
}

// Mevcut kullanÄ±m aynÄ± kalÄ±yor
$rezervasyonlar = getRezervasyonlar(['durum' => 'onaylandi']);
            </div>

            <h3>4. URL Routing Sistemi</h3>
            <div class="code-example">
// .htaccess gÃ¼ncelleme
RewriteEngine On

# Tenant URL'leri: tenant1.otelsistemi.com veya otelsistemi.com/tenant1
RewriteCond %{HTTP_HOST} ^([^.]+)\.otelsistemi\.com$ [NC]
RewriteRule ^(.*)$ index.php?tenant=%1&path=$1 [QSA,L]

RewriteCond %{REQUEST_URI} ^/([^/]+)/(.*)$
RewriteRule ^(.*)$ index.php?tenant=%1&path=%2 [QSA,L]

// index.php'de tenant belirleme
$tenant = $_GET['tenant'] ?? $_SERVER['HTTP_HOST'];
if (strpos($tenant, '.') !== false) {
    $tenant = explode('.', $tenant)[0];
}

TenantManager::setTenant($tenant);
            </div>
        </div>

        <div class="section">
            <h2>ğŸ”„ GeÃ§iÅŸ Stratejisi</h2>
            
            <div class="timeline">
                <div class="timeline-item">
                    <h4><span class="priority-high">Faz 1: HazÄ±rlÄ±k (1 hafta)</span></h4>
                    <ul>
                        <li>Test ortamÄ± kurulumu</li>
                        <li>Backup stratejisi</li>
                        <li>Rollback planÄ±</li>
                        <li>Tenant yÃ¶netim sistemi</li>
                    </ul>
                </div>

                <div class="timeline-item">
                    <h4><span class="priority-high">Faz 2: Tenant Sistemi (2-3 hafta)</span></h4>
                    <ul>
                        <li>Database ÅŸemasÄ± gÃ¼ncelleme</li>
                        <li>Tenant ID ekleme</li>
                        <li>Session yÃ¶netimi</li>
                        <li>URL routing</li>
                    </ul>
                </div>

                <div class="timeline-item">
                    <h4><span class="priority-medium">Faz 3: KullanÄ±cÄ± Sistemi (2-3 hafta)</span></h4>
                    <ul>
                        <li>Multi-tenant kullanÄ±cÄ± yÃ¶netimi</li>
                        <li>Rol sistemi gÃ¼ncelleme</li>
                        <li>Yetki kontrolÃ¼</li>
                        <li>Login sistemi</li>
                    </ul>
                </div>

                <div class="timeline-item">
                    <h4><span class="priority-medium">Faz 4: ModÃ¼l Sistemi (3-4 hafta)</span></h4>
                    <ul>
                        <li>Paket tanÄ±mlama</li>
                        <li>ModÃ¼l eriÅŸim kontrolÃ¼</li>
                        <li>UI gÃ¼ncelleme</li>
                        <li>Billing sistemi</li>
                    </ul>
                </div>

                <div class="timeline-item">
                    <h4><span class="priority-low">Faz 5: Yeni Ã–zellikler (4-6 hafta)</span></h4>
                    <ul>
                        <li>API geliÅŸtirme</li>
                        <li>Yeni sektÃ¶r modÃ¼lleri</li>
                        <li>GeliÅŸmiÅŸ Ã¶zellikler</li>
                        <li>Mobil uygulama</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ›¡ï¸ GÃ¼venlik ve Koruma</h2>
            
            <h3>Mevcut Sistemi Koruma Stratejileri:</h3>
            <ul class="feature-list">
                <li><strong>Backward Compatibility:</strong> Eski kod Ã§alÄ±ÅŸmaya devam eder</li>
                <li><strong>Feature Flags:</strong> Yeni Ã¶zellikler kademeli aÃ§Ä±lÄ±r</li>
                <li><strong>Database Migrations:</strong> GÃ¼venli ÅŸema gÃ¼ncellemeleri</li>
                <li><strong>Rollback Plan:</strong> Her adÄ±mda geri dÃ¶nÃ¼ÅŸ imkanÄ±</li>
                <li><strong>Testing:</strong> Her deÄŸiÅŸiklik test edilir</li>
                <li><strong>Monitoring:</strong> Sistem performansÄ± izlenir</li>
            </ul>

            <h3>Risk Azaltma:</h3>
            <ul class="feature-list">
                <li><strong>Staging Environment:</strong> Test ortamÄ±nda geliÅŸtirme</li>
                <li><strong>Blue-Green Deployment:</strong> SÄ±fÄ±r kesinti ile geÃ§iÅŸ</li>
                <li><strong>Database Backup:</strong> Her adÄ±mda yedekleme</li>
                <li><strong>Gradual Rollout:</strong> Kademeli kullanÄ±cÄ± geÃ§iÅŸi</li>
                <li><strong>Monitoring:</strong> GerÃ§ek zamanlÄ± izleme</li>
                <li><strong>Alert System:</strong> Hata durumunda uyarÄ±</li>
            </ul>
        </div>

        <div class="section">
            <h2>ğŸ“Š BaÅŸarÄ± Metrikleri</h2>
            
            <h3>Teknik Metrikler:</h3>
            <ul class="feature-list">
                <li><strong>Uptime:</strong> %99.9+ sistem Ã§alÄ±ÅŸma sÃ¼resi</li>
                <li><strong>Performance:</strong> Sayfa yÃ¼kleme sÃ¼resi < 2 saniye</li>
                <li><strong>Error Rate:</strong> Hata oranÄ± < %0.1</li>
                <li><strong>Data Integrity:</strong> Veri kaybÄ± sÄ±fÄ±r</li>
                <li><strong>User Experience:</strong> KullanÄ±cÄ± memnuniyeti korunur</li>
            </ul>

            <h3>Ä°ÅŸ Metrikleri:</h3>
            <ul class="feature-list">
                <li><strong>Customer Retention:</strong> Mevcut mÃ¼ÅŸteriler korunur</li>
                <li><strong>New Customers:</strong> Yeni mÃ¼ÅŸteri kazanÄ±mÄ±</li>
                <li><strong>Revenue Growth:</strong> Gelir artÄ±ÅŸÄ±</li>
                <li><strong>Market Share:</strong> Pazar payÄ± artÄ±ÅŸÄ±</li>
                <li><strong>Operational Efficiency:</strong> Operasyonel verimlilik</li>
            </ul>
        </div>

        <div class="section">
            <h2>ğŸ’¡ SonuÃ§ ve Ã–neriler</h2>
            
            <h3>Evet, Kesinlikle YapÄ±labilir!</h3>
            <ul class="feature-list">
                <li><strong>Mevcut kod korunur:</strong> Native PHP yapÄ±sÄ± bozulmaz</li>
                <li><strong>AdÄ±m adÄ±m geÃ§iÅŸ:</strong> Risk minimize edilir</li>
                <li><strong>Geriye dÃ¶nÃ¼k uyumluluk:</strong> Eski Ã¶zellikler Ã§alÄ±ÅŸÄ±r</li>
                <li><strong>Test edilebilir:</strong> Her adÄ±m doÄŸrulanÄ±r</li>
                <li><strong>Ã–lÃ§eklenebilir:</strong> Gelecekte bÃ¼yÃ¼yebilir</li>
            </ul>

            <h3>Hemen BaÅŸlanabilecek AdÄ±mlar:</h3>
            <ul class="feature-list">
                <li><strong>Test ortamÄ± kurulumu</strong></li>
                <li><strong>Tenant yÃ¶netim sistemi geliÅŸtirme</strong></li>
                <li><strong>Database ÅŸemasÄ± planlama</strong></li>
                <li><strong>URL routing sistemi</strong></li>
                <li><strong>KullanÄ±cÄ± yÃ¶netim sistemi</strong></li>
            </ul>

            <h3>BaÅŸarÄ± FaktÃ¶rleri:</h3>
            <ul class="feature-list">
                <li><strong>PlanlÄ± yaklaÅŸÄ±m:</strong> DetaylÄ± planlama</li>
                <li><strong>Test odaklÄ±:</strong> Her adÄ±m test edilir</li>
                <li><strong>KullanÄ±cÄ± odaklÄ±:</strong> MÃ¼ÅŸteri deneyimi korunur</li>
                <li><strong>Teknik mÃ¼kemmellik:</strong> Kaliteli kod</li>
                <li><strong>SÃ¼rekli izleme:</strong> Performans takibi</li>
            </ul>
        </div>

        <div class="footer">
            <p>SAAS GeÃ§iÅŸ Planlama Raporu | 16.10.2025</p>
        </div>
    </div>
</body>
</html>
