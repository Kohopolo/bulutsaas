{% extends "tenant/base.html" %}
{% load static %}

{% block title %}Raporlar Dashboard{% endblock %}

{% block content %}
<div class="content-body">
    <div class="groupbox">
        <div class="groupbox-header">
            <i class="fas fa-chart-bar"></i> Raporlar Dashboard
        </div>
        <div class="groupbox-body">
            {% if debug_enabled_modules or debug_user_modules %}
            <div style="background: #F8F9FA; border: 1px solid #D4D4D4; border-radius: 3px; padding: 10px; margin-bottom: 20px; font-size: 11px; color: #666;">
                <strong>Debug Bilgisi:</strong><br>
                Aktif Modüller: {{ debug_enabled_modules|join:", "|default:"Yok" }}<br>
                Kullanıcı Erişimi: {{ debug_user_modules|join:", "|default:"Yok" }}
            </div>
            {% endif %}
            
            {% if reports_categories %}
                {% for category in reports_categories %}
                <div style="margin-bottom: 30px;">
                    <h2 style="font-size: 16px; font-weight: bold; color: #2C5F8D; margin-bottom: 15px; display: flex; align-items: center;">
                        <i class="{{ category.icon }} mr-2" style="color: {% if category.color == 'blue' %}#0078D4{% elif category.color == 'green' %}#107C10{% elif category.color == 'purple' %}#7B1FA2{% elif category.color == 'orange' %}#FF9800{% elif category.color == 'red' %}#D32F2F{% else %}#666666{% endif %};"></i>
                        {{ category.name }}
                    </h2>
                    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 12px;">
                        {% for report in category.reports %}
                        <a href="{{ report.url }}" class="vb-button" style="padding: 12px 16px; text-align: left; display: flex; align-items: center; justify-content: space-between; text-decoration: none; background: #FFFFFF; border: 1px solid #D4D4D4; border-radius: 3px; transition: all 0.2s;" onmouseover="this.style.background='#F8F9FA'; this.style.borderColor='#0078D4';" onmouseout="this.style.background='#FFFFFF'; this.style.borderColor='#D4D4D4';">
                            <div style="display: flex; align-items: center; flex: 1;">
                                <i class="{{ report.icon }}" style="font-size: 18px; color: #2C5F8D; margin-right: 10px;"></i>
                                <span style="font-size: 12px; font-weight: 600; color: #333333;">{{ report.name }}</span>
                            </div>
                            <i class="fas fa-chevron-right" style="font-size: 12px; color: #999999;"></i>
                        </a>
                        {% endfor %}
                    </div>
                </div>
                {% endfor %}
            {% else %}
                <div style="text-align: center; padding: 40px 20px;">
                    <i class="fas fa-chart-bar" style="font-size: 48px; color: #D4D4D4; margin-bottom: 15px;"></i>
                    <p style="font-size: 14px; color: #666666; margin-bottom: 10px;">Henüz erişebileceğiniz rapor bulunmuyor.</p>
                    <p style="font-size: 12px; color: #999999;">Paket yönetiminden modül ekleyerek raporlara erişebilirsiniz.</p>
                </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}

