{% extends "tenant/base.html" %}
{% load static %}

{% block title %}Resepsiyon Dashboard{% endblock %}

{% block content %}
<div class="content-body">
    <div class="groupbox">
        <div class="groupbox-header">
            <i class="fas fa-concierge-bell"></i> Resepsiyon Dashboard - {{ today|date:"d.m.Y" }}
            <div style="float: right;">
                <button onclick="openReservationModal()" class="vb-button primary">
                    <i class="fas fa-plus"></i> Yeni Rezervasyon
                </button>
            </div>
        </div>
        <div class="groupbox-body">
            <!-- İstatistikler - 8 Kutucuk Grid Yapısı (Sol: Label+Değer, Sağ: İkon) -->
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 6px; margin-bottom: 15px; width: 100%; max-width: 100%; overflow-x: hidden;">
                <!-- Kutucuk 1: Toplam Rezervasyon -->
                <div style="background: #FFFFFF; border: 1px solid #D4D4D4; border-radius: 3px; padding: 8px; display: flex; align-items: center; justify-content: space-between; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.background='#F8F9FA'; this.style.borderColor='#0078D4';" onmouseout="this.style.background='#FFFFFF'; this.style.borderColor='#D4D4D4';">
                    <div style="flex: 1;">
                        <div style="font-size: 9px; color: #666; margin-bottom: 4px; font-weight: 600;">Toplam Rezervasyon</div>
                        <div style="font-size: 20px; font-weight: bold; color: #2C5F8D; line-height: 1.2;">{{ stats.total_reservations }}</div>
                    </div>
                    <div style="width: 32px; height: 32px; background: #E8F4F8; border-radius: 3px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                        <i class="fas fa-list" style="font-size: 14px; color: #2C5F8D;"></i>
                    </div>
                </div>
                
                <!-- Kutucuk 2: Onaylanmış -->
                <div style="background: #FFFFFF; border: 1px solid #D4D4D4; border-radius: 3px; padding: 8px; display: flex; align-items: center; justify-content: space-between; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.background='#F8F9FA'; this.style.borderColor='#0078D4';" onmouseout="this.style.background='#FFFFFF'; this.style.borderColor='#D4D4D4';">
                    <div style="flex: 1;">
                        <div style="font-size: 9px; color: #666; margin-bottom: 4px; font-weight: 600;">Onaylanmış</div>
                        <div style="font-size: 20px; font-weight: bold; color: #2C5F8D; line-height: 1.2;">{{ stats.confirmed_reservations }}</div>
                    </div>
                    <div style="width: 32px; height: 32px; background: #E8F4F8; border-radius: 3px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                        <i class="fas fa-check-circle" style="font-size: 14px; color: #2C5F8D;"></i>
                    </div>
                </div>
                
                <!-- Kutucuk 3: Oda İçinde -->
                <div style="background: #FFFFFF; border: 1px solid #D4D4D4; border-radius: 3px; padding: 8px; display: flex; align-items: center; justify-content: space-between; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.background='#F8F9FA'; this.style.borderColor='#0078D4';" onmouseout="this.style.background='#FFFFFF'; this.style.borderColor='#D4D4D4';">
                    <div style="flex: 1;">
                        <div style="font-size: 9px; color: #666; margin-bottom: 4px; font-weight: 600;">Oda İçinde</div>
                        <div style="font-size: 20px; font-weight: bold; color: #2C5F8D; line-height: 1.2;">{{ stats.checked_in }}</div>
                    </div>
                    <div style="width: 32px; height: 32px; background: #E8F4F8; border-radius: 3px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                        <i class="fas fa-bed" style="font-size: 14px; color: #2C5F8D;"></i>
                    </div>
                </div>
                
                <!-- Kutucuk 4: Bugünkü Misafir -->
                <div style="background: #FFFFFF; border: 1px solid #D4D4D4; border-radius: 3px; padding: 8px; display: flex; align-items: center; justify-content: space-between; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.background='#F8F9FA'; this.style.borderColor='#0078D4';" onmouseout="this.style.background='#FFFFFF'; this.style.borderColor='#D4D4D4';">
                    <div style="flex: 1;">
                        <div style="font-size: 9px; color: #666; margin-bottom: 4px; font-weight: 600;">Bugünkü Misafir</div>
                        <div style="font-size: 20px; font-weight: bold; color: #2C5F8D; line-height: 1.2;">{{ stats.today_guests }}</div>
                    </div>
                    <div style="width: 32px; height: 32px; background: #E8F4F8; border-radius: 3px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                        <i class="fas fa-users" style="font-size: 14px; color: #2C5F8D;"></i>
                    </div>
                </div>
                
                <!-- Kutucuk 5: Bugünkü Gelir -->
                <div style="background: #FFFFFF; border: 1px solid #D4D4D4; border-radius: 3px; padding: 8px; display: flex; align-items: center; justify-content: space-between; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.background='#F8F9FA'; this.style.borderColor='#0078D4';" onmouseout="this.style.background='#FFFFFF'; this.style.borderColor='#D4D4D4';">
                    <div style="flex: 1;">
                        <div style="font-size: 9px; color: #666; margin-bottom: 4px; font-weight: 600;">Bugünkü Gelir</div>
                        <div style="font-size: 18px; font-weight: bold; color: #107C10; line-height: 1.2;">{{ stats.today_revenue|floatformat:2 }} ₺</div>
                    </div>
                    <div style="width: 32px; height: 32px; background: #E6F7E6; border-radius: 3px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                        <i class="fas fa-lira-sign" style="font-size: 14px; color: #107C10;"></i>
                    </div>
                </div>
                
                <!-- Kutucuk 6: Bu Hafta -->
                <div style="background: #FFFFFF; border: 1px solid #D4D4D4; border-radius: 3px; padding: 8px; display: flex; align-items: center; justify-content: space-between; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.background='#F8F9FA'; this.style.borderColor='#0078D4';" onmouseout="this.style.background='#FFFFFF'; this.style.borderColor='#D4D4D4';">
                    <div style="flex: 1;">
                        <div style="font-size: 9px; color: #666; margin-bottom: 4px; font-weight: 600;">Bu Hafta</div>
                        <div style="font-size: 18px; font-weight: bold; color: #2C5F8D; line-height: 1.1;">{{ stats.week_reservations }}</div>
                        <div style="font-size: 9px; color: #666; margin-top: 2px;">{{ stats.week_revenue|floatformat:2 }} ₺</div>
                    </div>
                    <div style="width: 32px; height: 32px; background: #E8F4F8; border-radius: 3px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                        <i class="fas fa-calendar-week" style="font-size: 14px; color: #2C5F8D;"></i>
                    </div>
                </div>
                
                <!-- Kutucuk 7: Bu Ay -->
                <div style="background: #FFFFFF; border: 1px solid #D4D4D4; border-radius: 3px; padding: 8px; display: flex; align-items: center; justify-content: space-between; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.background='#F8F9FA'; this.style.borderColor='#0078D4';" onmouseout="this.style.background='#FFFFFF'; this.style.borderColor='#D4D4D4';">
                    <div style="flex: 1;">
                        <div style="font-size: 9px; color: #666; margin-bottom: 4px; font-weight: 600;">Bu Ay</div>
                        <div style="font-size: 18px; font-weight: bold; color: #2C5F8D; line-height: 1.1;">{{ stats.month_reservations }}</div>
                        <div style="font-size: 9px; color: #666; margin-top: 2px;">{{ stats.month_revenue|floatformat:2 }} ₺</div>
                    </div>
                    <div style="width: 32px; height: 32px; background: #E8F4F8; border-radius: 3px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                        <i class="fas fa-calendar-alt" style="font-size: 14px; color: #2C5F8D;"></i>
                    </div>
                </div>
                
                <!-- Kutucuk 8: Ödeme Bekleyen -->
                <div style="background: #FFFFFF; border: 1px solid #D4D4D4; border-radius: 3px; padding: 8px; display: flex; align-items: center; justify-content: space-between; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.background='#F8F9FA'; this.style.borderColor='#0078D4';" onmouseout="this.style.background='#FFFFFF'; this.style.borderColor='#D4D4D4';">
                    <div style="flex: 1;">
                        <div style="font-size: 9px; color: #666; margin-bottom: 4px; font-weight: 600;">Ödeme Bekleyen</div>
                        <div style="font-size: 20px; font-weight: bold; color: #FF9800; line-height: 1.2;">{{ stats.pending_payments_count }}</div>
                    </div>
                    <div style="width: 32px; height: 32px; background: #FFF4E5; border-radius: 3px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                        <i class="fas fa-exclamation-triangle" style="font-size: 14px; color: #FF9800;"></i>
                    </div>
                </div>
            </div>
            
            <!-- Grid Layout: 2 Sütun -->
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px; margin-bottom: 20px; width: 100%; max-width: 100%; overflow-x: hidden;">
                <!-- Bekleyen Check-in'ler -->
                <div class="form-groupbox">
                    <div class="groupbox-header">
                        <i class="fas fa-sign-in-alt"></i> Bekleyen Check-in'ler ({{ stats.today_checkins }})
                    </div>
                    <div class="groupbox-body">
                        {% if pending_checkins %}
                        <div style="width: 100%; max-width: 100%; overflow-x: auto;">
                        <table class="vb-datagrid" style="width: 100%; table-layout: fixed;">
                            <thead>
                                <tr>
                                    <th style="width: 20%;">Rezervasyon</th>
                                    <th style="width: 25%;">Müşteri</th>
                                    <th style="width: 20%;">Oda</th>
                                    <th style="width: 15%;">Saat</th>
                                    <th style="width: 20%;">İşlem</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for reservation in pending_checkins %}
                                <tr>
                                    <td style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{ reservation.reservation_code }}</td>
                                    <td style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{% if reservation.customer %}{{ reservation.customer.get_full_name|truncatewords:2 }}{% else %}-{% endif %}</td>
                                    <td style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{ reservation.room.name }}</td>
                                    <td style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{ reservation.check_in_time|time:"H:i"|default:"-" }}</td>
                                    <td style="white-space: nowrap;">
                                        <a href="{% url 'reception:reservation_checkin' reservation.pk %}" class="vb-button small primary">
                                            <i class="fas fa-check"></i> Check-in
                                        </a>
                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                        </div>
                        {% else %}
                        <p style="text-align: center; color: #999; padding: 20px;">Bekleyen check-in bulunmamaktadır.</p>
                        {% endif %}
                    </div>
                </div>
                
                <!-- Bekleyen Check-out'lar -->
                <div class="form-groupbox">
                    <div class="groupbox-header">
                        <i class="fas fa-sign-out-alt"></i> Bekleyen Check-out'lar ({{ stats.today_checkouts }})
                    </div>
                    <div class="groupbox-body">
                        {% if pending_checkouts %}
                        <div style="width: 100%; max-width: 100%; overflow-x: auto;">
                        <table class="vb-datagrid" style="width: 100%; table-layout: fixed;">
                            <thead>
                                <tr>
                                    <th style="width: 20%;">Rezervasyon</th>
                                    <th style="width: 25%;">Müşteri</th>
                                    <th style="width: 20%;">Oda</th>
                                    <th style="width: 15%;">Saat</th>
                                    <th style="width: 20%;">İşlem</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for reservation in pending_checkouts %}
                                <tr>
                                    <td style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{ reservation.reservation_code }}</td>
                                    <td style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{% if reservation.customer %}{{ reservation.customer.get_full_name|truncatewords:2 }}{% else %}-{% endif %}</td>
                                    <td style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{ reservation.room.name }}</td>
                                    <td style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{ reservation.check_out_time|time:"H:i"|default:"-" }}</td>
                                    <td style="white-space: nowrap;">
                                        <a href="{% url 'reception:reservation_checkout' reservation.pk %}" class="vb-button small primary">
                                            <i class="fas fa-check"></i> Check-out
                                        </a>
                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                        </div>
                        {% else %}
                        <p style="text-align: center; color: #999; padding: 20px;">Bekleyen check-out bulunmamaktadır.</p>
                        {% endif %}
                    </div>
                </div>
            </div>
            
            <!-- Grid Layout: 2 Sütun -->
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px; margin-bottom: 20px; width: 100%; max-width: 100%; overflow-x: hidden;">
                <!-- Yaklaşan Rezervasyonlar -->
                <div class="form-groupbox">
                    <div class="groupbox-header">
                        <i class="fas fa-calendar-plus"></i> Yaklaşan Rezervasyonlar (7 Gün)
                    </div>
                    <div class="groupbox-body">
                        {% if upcoming_reservations %}
                        <div style="width: 100%; max-width: 100%; overflow-x: auto;">
                        <table class="vb-datagrid" style="width: 100%; table-layout: fixed;">
                            <thead>
                                <tr>
                                    <th style="width: 15%;">Rezervasyon</th>
                                    <th style="width: 25%;">Müşteri</th>
                                    <th style="width: 15%;">Oda</th>
                                    <th style="width: 15%;">Check-in</th>
                                    <th style="width: 15%;">Tutar</th>
                                    <th style="width: 15%;">İşlem</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for reservation in upcoming_reservations %}
                                <tr>
                                    <td style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{ reservation.reservation_code }}</td>
                                    <td style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{% if reservation.customer %}{{ reservation.customer.get_full_name|truncatewords:2 }}{% else %}-{% endif %}</td>
                                    <td style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{ reservation.room.name }}</td>
                                    <td style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{ reservation.check_in_date|date:"d.m.Y" }}</td>
                                    <td style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{ reservation.total_amount|floatformat:2 }} {{ reservation.currency }}</td>
                                    <td style="white-space: nowrap;">
                                        <a href="{% url 'reception:reservation_detail' reservation.pk %}" class="vb-button small">
                                            <i class="fas fa-eye"></i> Detay
                                        </a>
                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                        </div>
                        {% else %}
                        <p style="text-align: center; color: #999; padding: 20px;">Yaklaşan rezervasyon bulunmamaktadır.</p>
                        {% endif %}
                    </div>
                </div>
                
                <!-- Ödeme Bekleyen Rezervasyonlar -->
                <div class="form-groupbox">
                    <div class="groupbox-header">
                        <i class="fas fa-money-bill-wave"></i> Ödeme Bekleyen Rezervasyonlar
                    </div>
                    <div class="groupbox-body">
                        {% if pending_payments %}
                        <div style="width: 100%; max-width: 100%; overflow-x: auto;">
                        <table class="vb-datagrid" style="width: 100%; table-layout: fixed;">
                            <thead>
                                <tr>
                                    <th style="width: 15%;">Rezervasyon</th>
                                    <th style="width: 25%;">Müşteri</th>
                                    <th style="width: 15%;">Toplam</th>
                                    <th style="width: 15%;">Ödenen</th>
                                    <th style="width: 15%;">Kalan</th>
                                    <th style="width: 15%;">İşlem</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for reservation in pending_payments %}
                                <tr>
                                    <td style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{ reservation.reservation_code }}</td>
                                    <td style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{% if reservation.customer %}{{ reservation.customer.get_full_name|truncatewords:2 }}{% else %}-{% endif %}</td>
                                    <td style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{ reservation.total_amount|floatformat:2 }} {{ reservation.currency }}</td>
                                    <td style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{ reservation.total_paid|floatformat:2 }} {{ reservation.currency }}</td>
                                    <td style="color: red; font-weight: bold; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{ reservation.remaining_amount|floatformat:2 }} {{ reservation.currency|default:"₺" }}</td>
                                    <td style="white-space: nowrap;">
                                        <a href="{% url 'reception:reservation_detail' reservation.pk %}" class="vb-button small">
                                            <i class="fas fa-eye"></i> Detay
                                        </a>
                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                        </div>
                        {% else %}
                        <p style="text-align: center; color: #999; padding: 20px;">Ödeme bekleyen rezervasyon bulunmamaktadır.</p>
                        {% endif %}
                    </div>
                </div>
            </div>
            
            <!-- Bugünkü Rezervasyonlar (Oda İçinde) -->
            <div class="form-groupbox" style="margin-bottom: 20px;">
                <div class="groupbox-header">
                    <i class="fas fa-home"></i> Bugünkü Rezervasyonlar (Oda İçinde) - {{ today_reservations|length }}
                </div>
                <div class="groupbox-body">
                    {% if today_reservations %}
                    <div style="width: 100%; max-width: 100%; overflow-x: auto;">
                    <table class="vb-datagrid" style="width: 100%; table-layout: fixed;">
                        <thead>
                            <tr>
                                <th style="width: 10%;">Rezervasyon</th>
                                <th style="width: 15%;">Müşteri</th>
                                <th style="width: 10%;">Oda</th>
                                <th style="width: 8%;">Oda No</th>
                                <th style="width: 10%;">Check-in</th>
                                <th style="width: 10%;">Check-out</th>
                                <th style="width: 6%;">Gece</th>
                                <th style="width: 8%;">Misafir</th>
                                <th style="width: 10%;">Durum</th>
                                <th style="width: 13%;">İşlemler</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for reservation in today_reservations %}
                            <tr>
                                <td style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{ reservation.reservation_code }}</td>
                                <td style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{% if reservation.customer %}{{ reservation.customer.get_full_name }}{% else %}-{% endif %}</td>
                                <td style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{ reservation.room.name }}</td>
                                <td style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{ reservation.room_number.number|default:"-" }}</td>
                                <td style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{ reservation.check_in_date|date:"d.m.Y" }}</td>
                                <td style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{ reservation.check_out_date|date:"d.m.Y" }}</td>
                                <td style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{ reservation.total_nights }}</td>
                                <td style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{ reservation.adult_count }}Y / {{ reservation.child_count }}Ç</td>
                                <td style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
                                    {% if reservation.is_checked_in %}
                                        <span style="color: green;">✓ Check-in</span>
                                    {% else %}
                                        <span style="color: orange;">Bekliyor</span>
                                    {% endif %}
                                </td>
                                <td style="white-space: nowrap;">
                                    <a href="{% url 'reception:reservation_detail' reservation.pk %}" class="vb-button small">
                                        <i class="fas fa-eye"></i> Detay
                                    </a>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                    </div>
                    {% else %}
                    <p style="text-align: center; color: #999; padding: 20px;">Bugün oda içinde rezervasyon bulunmamaktadır.</p>
                    {% endif %}
                </div>
            </div>
            
            <!-- Oda Durumu Özeti -->
            {% if room_status_summary %}
            <div class="form-groupbox">
                <div class="groupbox-header">
                    <i class="fas fa-door-open"></i> Oda Durumu Özeti
                </div>
                <div class="groupbox-body">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; width: 100%; max-width: 100%; overflow-x: hidden;">
                        {% for status in room_status_summary %}
                        <div style="background: #f8f9fa; padding: 10px; border: 1px solid #d4d4d4; border-radius: 3px; text-align: center;">
                            <div style="font-size: 24px; font-weight: bold; color: #2c5f8d;">{{ status.count }}</div>
                            <div style="font-size: 12px; color: #666;">{{ status.status|title }}</div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
            {% endif %}
        </div>
    </div>
</div>

<!-- Rezervasyon Modal -->
{% include 'reception/reservations/form_modal.html' %}

<script>
// Rezervasyon Modal Fonksiyonları
function openReservationModal(reservationId = null) {
    console.log('openReservationModal çağrıldı, reservationId:', reservationId);
    
    // Modal'ı bul
    const modal = document.getElementById('reservationModal');
    console.log('Modal bulundu:', modal);
    
    if (!modal) {
        console.error('reservationModal elementi bulunamadı! Form modal render edilmemiş olabilir.');
        alert('Rezervasyon formu yüklenemedi. Lütfen sayfayı yenileyin.');
        return;
    }
    
    // Modal'ı göster
    modal.style.display = 'flex';
    document.body.style.overflow = 'hidden';
    
    // Form'u resetle (yeni rezervasyon için)
    const form = document.getElementById('reservationForm');
    if (form) {
        // Yeni rezervasyon için form'u resetle
        if (!reservationId) {
            form.reset();
            // Form action'ı yeni rezervasyon için ayarla
            const createUrl = form.action.replace(/\/\d+\/edit\//, '/create/');
            if (!form.action.includes('/create/')) {
                form.action = '{% url "reception:reservation_create" %}';
            }
        }
        console.log('Form action:', form.action);
    } else {
        console.error('reservationForm elementi bulunamadı!');
    }
}

function closeReservationModal() {
    const modal = document.getElementById('reservationModal');
    if (modal) {
        modal.style.display = 'none';
        document.body.style.overflow = 'auto';
    }
}

// Global olarak erişilebilir yap
window.openReservationModal = openReservationModal;
window.closeReservationModal = closeReservationModal;
</script>

<style>
.form-groupbox {
    background: #f8f9fa;
    border: 1px solid #d4d4d4;
    border-radius: 3px;
    padding: 0;
}

.groupbox-header {
    background: #e8f4f8;
    border-bottom: 1px solid #c0d4e0;
    padding: 8px 12px;
    font-weight: bold;
    font-size: 14px;
    color: #2c5f8d;
}

.groupbox-body {
    padding: 12px;
}
</style>
{% endblock %}
