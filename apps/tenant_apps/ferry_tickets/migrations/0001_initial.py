# Generated by Django 4.2.11 on 2025-11-14 00:31

from decimal import Decimal
from django.conf import settings
import django.core.validators
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ('sales', '0001_initial'),
        ('payments', '0004_paymenttransaction_accounting_payment_id_and_more'),
        ('tenant_core', '0003_customer_customernote_customerloyaltyhistory_and_more'),
    ]

    operations = [
        migrations.CreateModel(
            name='Ferry',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Oluşturulma Tarihi')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Güncellenme Tarihi')),
                ('is_deleted', models.BooleanField(default=False, verbose_name='Silinmiş mi?')),
                ('deleted_at', models.DateTimeField(blank=True, null=True, verbose_name='Silinme Tarihi')),
                ('name', models.CharField(max_length=200, verbose_name='Feribot Adı')),
                ('code', models.SlugField(unique=True, verbose_name='Feribot Kodu')),
                ('company_name', models.CharField(max_length=200, verbose_name='Şirket Adı')),
                ('company_code', models.CharField(blank=True, max_length=50, verbose_name='Şirket Kodu')),
                ('phone', models.CharField(blank=True, max_length=20, verbose_name='Telefon')),
                ('email', models.EmailField(blank=True, max_length=254, verbose_name='E-posta')),
                ('website', models.URLField(blank=True, verbose_name='Web Sitesi')),
                ('capacity_passengers', models.IntegerField(default=0, verbose_name='Yolcu Kapasitesi')),
                ('capacity_vehicles', models.IntegerField(default=0, verbose_name='Araç Kapasitesi')),
                ('vessel_type', models.CharField(blank=True, help_text='Örn: Fast Ferry, Conventional Ferry', max_length=50, verbose_name='Gemi Tipi')),
                ('is_active', models.BooleanField(default=True, verbose_name='Aktif mi?')),
            ],
            options={
                'verbose_name': 'Feribot',
                'verbose_name_plural': 'Feribotlar',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='FerryAPIConfiguration',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Oluşturulma Tarihi')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Güncellenme Tarihi')),
                ('is_deleted', models.BooleanField(default=False, verbose_name='Silinmiş mi?')),
                ('deleted_at', models.DateTimeField(blank=True, null=True, verbose_name='Silinme Tarihi')),
                ('name', models.CharField(max_length=200, verbose_name='API Adı')),
                ('code', models.SlugField(unique=True, verbose_name='API Kodu')),
                ('provider', models.CharField(choices=[('ferryos', 'FerryOS'), ('custom', 'Özel API'), ('other', 'Diğer')], max_length=100, verbose_name='Sağlayıcı')),
                ('api_url', models.URLField(help_text="API endpoint URL'si", verbose_name='API URL')),
                ('api_key', models.CharField(blank=True, max_length=200, verbose_name='API Key')),
                ('api_secret', models.CharField(blank=True, max_length=200, verbose_name='API Secret')),
                ('username', models.CharField(blank=True, max_length=100, verbose_name='Kullanıcı Adı')),
                ('password', models.CharField(blank=True, max_length=200, verbose_name='Şifre')),
                ('api_settings', models.JSONField(blank=True, default=dict, help_text='Ek API ayarları (timeout, retry vb.)', verbose_name='API Ayarları')),
                ('auto_sync_schedules', models.BooleanField(default=False, verbose_name='Seferleri Otomatik Senkronize Et')),
                ('sync_frequency_hours', models.IntegerField(default=24, help_text='Kaç saatte bir senkronize edilecek', verbose_name='Senkronizasyon Sıklığı (Saat)')),
                ('last_sync_at', models.DateTimeField(blank=True, null=True, verbose_name='Son Senkronizasyon')),
                ('is_active', models.BooleanField(default=True, verbose_name='Aktif mi?')),
                ('is_test_mode', models.BooleanField(default=True, verbose_name='Test Modu mu?')),
            ],
            options={
                'verbose_name': 'Feribot API Konfigürasyonu',
                'verbose_name_plural': 'Feribot API Konfigürasyonları',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='FerryRoute',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Oluşturulma Tarihi')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Güncellenme Tarihi')),
                ('is_deleted', models.BooleanField(default=False, verbose_name='Silinmiş mi?')),
                ('deleted_at', models.DateTimeField(blank=True, null=True, verbose_name='Silinme Tarihi')),
                ('name', models.CharField(max_length=200, verbose_name='Rota Adı')),
                ('code', models.SlugField(unique=True, verbose_name='Rota Kodu')),
                ('departure_port', models.CharField(max_length=200, verbose_name='Kalkış Limanı')),
                ('departure_city', models.CharField(max_length=100, verbose_name='Kalkış Şehri')),
                ('departure_country', models.CharField(default='Türkiye', max_length=100, verbose_name='Kalkış Ülkesi')),
                ('departure_latitude', models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True, verbose_name='Kalkış Enlem')),
                ('departure_longitude', models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True, verbose_name='Kalkış Boylam')),
                ('arrival_port', models.CharField(max_length=200, verbose_name='Varış Limanı')),
                ('arrival_city', models.CharField(max_length=100, verbose_name='Varış Şehri')),
                ('arrival_country', models.CharField(default='Türkiye', max_length=100, verbose_name='Varış Ülkesi')),
                ('arrival_latitude', models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True, verbose_name='Varış Enlem')),
                ('arrival_longitude', models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True, verbose_name='Varış Boylam')),
                ('distance_nautical_miles', models.DecimalField(blank=True, decimal_places=2, max_digits=8, null=True, verbose_name='Mesafe (Deniz Mili)')),
                ('estimated_duration_hours', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, verbose_name='Tahmini Süre (Saat)')),
                ('is_active', models.BooleanField(default=True, verbose_name='Aktif mi?')),
                ('is_international', models.BooleanField(default=False, verbose_name='Uluslararası Rota mu?')),
            ],
            options={
                'verbose_name': 'Feribot Rotası',
                'verbose_name_plural': 'Feribot Rotaları',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='FerrySchedule',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Oluşturulma Tarihi')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Güncellenme Tarihi')),
                ('is_deleted', models.BooleanField(default=False, verbose_name='Silinmiş mi?')),
                ('deleted_at', models.DateTimeField(blank=True, null=True, verbose_name='Silinme Tarihi')),
                ('departure_date', models.DateField(db_index=True, verbose_name='Kalkış Tarihi')),
                ('departure_time', models.TimeField(verbose_name='Kalkış Saati')),
                ('arrival_date', models.DateField(db_index=True, verbose_name='Varış Tarihi')),
                ('arrival_time', models.TimeField(verbose_name='Varış Saati')),
                ('adult_price', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='Yetişkin Fiyatı')),
                ('child_price', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='Çocuk Fiyatı')),
                ('infant_price', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='Bebek Fiyatı')),
                ('student_price', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='Öğrenci Fiyatı')),
                ('senior_price', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='Yaşlı Fiyatı')),
                ('disabled_price', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='Engelli Fiyatı')),
                ('car_price', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='Otomobil Fiyatı')),
                ('motorcycle_price', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='Motosiklet Fiyatı')),
                ('van_price', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='Minibüs Fiyatı')),
                ('truck_price', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='Kamyon Fiyatı')),
                ('bus_price', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='Otobüs Fiyatı')),
                ('caravan_price', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='Karavan Fiyatı')),
                ('available_passenger_seats', models.IntegerField(default=0, verbose_name='Müsait Yolcu Koltuğu')),
                ('available_vehicle_spots', models.IntegerField(default=0, verbose_name='Müsait Araç Yeri')),
                ('total_passenger_seats', models.IntegerField(default=0, verbose_name='Toplam Yolcu Koltuğu')),
                ('total_vehicle_spots', models.IntegerField(default=0, verbose_name='Toplam Araç Yeri')),
                ('is_active', models.BooleanField(default=True, verbose_name='Aktif mi?')),
                ('is_cancelled', models.BooleanField(default=False, verbose_name='İptal Edildi mi?')),
                ('cancellation_reason', models.TextField(blank=True, verbose_name='İptal Nedeni')),
                ('external_id', models.CharField(blank=True, help_text="API'den gelen sefer ID'si", max_length=100, verbose_name='Harici ID')),
                ('external_data', models.JSONField(blank=True, default=dict, help_text="API'den gelen ek veriler", verbose_name='Harici Veri')),
                ('api_synced_at', models.DateTimeField(blank=True, null=True, verbose_name='API Senkronizasyon Tarihi')),
                ('ferry', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='schedules', to='ferry_tickets.ferry', verbose_name='Feribot')),
                ('route', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='schedules', to='ferry_tickets.ferryroute', verbose_name='Rota')),
            ],
            options={
                'verbose_name': 'Feribot Seferi',
                'verbose_name_plural': 'Feribot Seferleri',
                'ordering': ['departure_date', 'departure_time'],
            },
        ),
        migrations.CreateModel(
            name='FerryTicket',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Oluşturulma Tarihi')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Güncellenme Tarihi')),
                ('is_deleted', models.BooleanField(default=False, verbose_name='Silinmiş mi?')),
                ('deleted_at', models.DateTimeField(blank=True, null=True, verbose_name='Silinme Tarihi')),
                ('ticket_code', models.CharField(db_index=True, max_length=50, unique=True, verbose_name='Bilet Kodu')),
                ('adult_count', models.IntegerField(default=1, validators=[django.core.validators.MinValueValidator(0)], verbose_name='Yetişkin Sayısı')),
                ('child_count', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0)], verbose_name='Çocuk Sayısı')),
                ('infant_count', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0)], verbose_name='Bebek Sayısı')),
                ('vehicle_type', models.CharField(choices=[('none', 'Araçsız'), ('car', 'Otomobil'), ('motorcycle', 'Motosiklet'), ('van', 'Minibüs'), ('truck', 'Kamyon'), ('bus', 'Otobüs'), ('caravan', 'Karavan')], default='none', max_length=20, verbose_name='Araç Tipi')),
                ('vehicle_plate', models.CharField(blank=True, max_length=20, verbose_name='Araç Plakası')),
                ('vehicle_brand', models.CharField(blank=True, max_length=50, verbose_name='Araç Markası')),
                ('vehicle_model', models.CharField(blank=True, max_length=50, verbose_name='Araç Modeli')),
                ('status', models.CharField(choices=[('pending', 'Beklemede'), ('confirmed', 'Onaylandı'), ('cancelled', 'İptal Edildi'), ('used', 'Kullanıldı'), ('expired', 'Süresi Doldu'), ('refunded', 'İade Edildi')], db_index=True, default='pending', max_length=20, verbose_name='Durum')),
                ('source', models.CharField(choices=[('direct', 'Direkt'), ('online', 'Online'), ('phone', 'Telefon'), ('email', 'E-posta'), ('walk_in', 'Gel-Al'), ('agency', 'Acente'), ('api', 'API Entegrasyonu')], db_index=True, default='direct', max_length=20, verbose_name='Kaynak')),
                ('adult_unit_price', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='Yetişkin Birim Fiyatı')),
                ('child_unit_price', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='Çocuk Birim Fiyatı')),
                ('infant_unit_price', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='Bebek Birim Fiyatı')),
                ('vehicle_price', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='Araç Fiyatı')),
                ('total_amount', models.DecimalField(decimal_places=2, default=0, max_digits=12, verbose_name='Toplam Tutar')),
                ('discount_type', models.CharField(blank=True, choices=[('percentage', 'Yüzde'), ('fixed', 'Sabit Tutar')], max_length=20, null=True, verbose_name='İndirim Tipi')),
                ('discount_amount', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='İndirim Tutarı')),
                ('discount_percentage', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(Decimal('0'))], verbose_name='İndirim Yüzdesi')),
                ('tax_amount', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='Vergi Tutarı')),
                ('total_paid', models.DecimalField(decimal_places=2, default=0, max_digits=12, verbose_name='Ödenen Tutar')),
                ('currency', models.CharField(choices=[('TRY', 'Türk Lirası'), ('USD', 'US Dollar'), ('EUR', 'Euro'), ('GBP', 'British Pound')], default='TRY', max_length=3, verbose_name='Para Birimi')),
                ('is_comp', models.BooleanField(default=False, verbose_name='Ücretsiz Bilet mi?')),
                ('special_requests', models.TextField(blank=True, verbose_name='Özel İstekler')),
                ('internal_notes', models.TextField(blank=True, help_text='Personel için notlar', verbose_name='İç Notlar')),
                ('is_cancelled', models.BooleanField(default=False, verbose_name='İptal Edildi mi?')),
                ('cancelled_at', models.DateTimeField(blank=True, null=True, verbose_name='İptal Tarihi')),
                ('cancellation_reason', models.TextField(blank=True, verbose_name='İptal Nedeni')),
                ('cancellation_refund_amount', models.DecimalField(decimal_places=2, default=0, max_digits=12, verbose_name='İptal İade Tutarı')),
                ('is_used', models.BooleanField(default=False, verbose_name='Kullanıldı mı?')),
                ('used_at', models.DateTimeField(blank=True, null=True, verbose_name='Kullanım Tarihi')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_ferry_tickets', to=settings.AUTH_USER_MODEL, verbose_name='Oluşturan Kullanıcı')),
                ('customer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='ferry_tickets', to='tenant_core.customer', verbose_name='Müşteri')),
                ('deleted_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='deleted_ferry_tickets', to=settings.AUTH_USER_MODEL, verbose_name='Silen Kullanıcı')),
                ('reservation_agent', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='ferry_tickets', to='sales.agency', verbose_name='Rezervasyon Acentesi')),
                ('schedule', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='tickets', to='ferry_tickets.ferryschedule', verbose_name='Sefer')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='updated_ferry_tickets', to=settings.AUTH_USER_MODEL, verbose_name='Güncelleyen Kullanıcı')),
            ],
            options={
                'verbose_name': 'Feribot Bileti',
                'verbose_name_plural': 'Feribot Biletleri',
                'ordering': ['-schedule__departure_date', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='FerryTicketVoucherTemplate',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Oluşturulma Tarihi')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Güncellenme Tarihi')),
                ('is_deleted', models.BooleanField(default=False, verbose_name='Silinmiş mi?')),
                ('deleted_at', models.DateTimeField(blank=True, null=True, verbose_name='Silinme Tarihi')),
                ('name', models.CharField(max_length=200, verbose_name='Şablon Adı')),
                ('code', models.SlugField(unique=True, verbose_name='Şablon Kodu')),
                ('description', models.TextField(blank=True, verbose_name='Açıklama')),
                ('template_html', models.TextField(help_text='HTML şablon içeriği', verbose_name='HTML Şablon')),
                ('template_css', models.TextField(blank=True, help_text='Özel CSS stilleri', verbose_name='CSS Stilleri')),
                ('is_active', models.BooleanField(default=True, verbose_name='Aktif mi?')),
                ('is_default', models.BooleanField(default=False, verbose_name='Varsayılan Şablon mu?')),
            ],
            options={
                'verbose_name': 'Bilet Voucher Şablonu',
                'verbose_name_plural': 'Bilet Voucher Şablonları',
                'ordering': ['-is_default', 'name'],
            },
        ),
        migrations.CreateModel(
            name='FerryAPISync',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Oluşturulma Tarihi')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Güncellenme Tarihi')),
                ('sync_type', models.CharField(choices=[('schedules', 'Seferler'), ('prices', 'Fiyatlar'), ('availability', 'Müsaitlik'), ('full', 'Tam Senkronizasyon')], max_length=20, verbose_name='Senkronizasyon Tipi')),
                ('status', models.CharField(choices=[('success', 'Başarılı'), ('failed', 'Başarısız'), ('partial', 'Kısmi Başarılı')], max_length=20, verbose_name='Durum')),
                ('schedules_fetched', models.IntegerField(default=0, verbose_name='Çekilen Sefer Sayısı')),
                ('schedules_created', models.IntegerField(default=0, verbose_name='Oluşturulan Sefer Sayısı')),
                ('schedules_updated', models.IntegerField(default=0, verbose_name='Güncellenen Sefer Sayısı')),
                ('schedules_failed', models.IntegerField(default=0, verbose_name='Başarısız Sefer Sayısı')),
                ('error_message', models.TextField(blank=True, verbose_name='Hata Mesajı')),
                ('error_details', models.JSONField(blank=True, default=dict, verbose_name='Hata Detayları')),
                ('started_at', models.DateTimeField(verbose_name='Başlangıç Tarihi')),
                ('completed_at', models.DateTimeField(blank=True, null=True, verbose_name='Tamamlanma Tarihi')),
                ('duration_seconds', models.IntegerField(blank=True, null=True, verbose_name='Süre (Saniye)')),
                ('api_config', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='syncs', to='ferry_tickets.ferryapiconfiguration', verbose_name='API Konfigürasyonu')),
            ],
            options={
                'verbose_name': 'API Senkronizasyon Kaydı',
                'verbose_name_plural': 'API Senkronizasyon Kayıtları',
                'ordering': ['-started_at'],
            },
        ),
        migrations.CreateModel(
            name='FerryTicketVoucher',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Oluşturulma Tarihi')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Güncellenme Tarihi')),
                ('voucher_code', models.CharField(db_index=True, max_length=50, unique=True, verbose_name='Voucher Kodu')),
                ('voucher_data', models.JSONField(blank=True, default=dict, verbose_name='Voucher Verileri')),
                ('access_token', models.CharField(blank=True, db_index=True, max_length=64, null=True, unique=True, verbose_name='Erişim Token')),
                ('token_expires_at', models.DateTimeField(blank=True, null=True, verbose_name='Token Geçerlilik Tarihi')),
                ('is_sent', models.BooleanField(default=False, verbose_name='Gönderildi mi?')),
                ('sent_at', models.DateTimeField(blank=True, null=True, verbose_name='Gönderilme Tarihi')),
                ('sent_via', models.CharField(blank=True, choices=[('email', 'E-posta'), ('whatsapp', 'WhatsApp'), ('sms', 'SMS'), ('link', 'Link')], max_length=20, verbose_name='Gönderim Yöntemi')),
                ('payment_status', models.CharField(choices=[('pending', 'Ödeme Bekliyor'), ('partial', 'Kısmi Ödendi'), ('paid', 'Ödendi'), ('failed', 'Ödeme Başarısız'), ('cancelled', 'İptal Edildi'), ('refunded', 'İade Edildi')], db_index=True, default='pending', max_length=20, verbose_name='Ödeme Durumu')),
                ('payment_amount', models.DecimalField(decimal_places=2, default=0, max_digits=12, verbose_name='Ödeme Tutarı')),
                ('payment_currency', models.CharField(default='TRY', max_length=3, verbose_name='Para Birimi')),
                ('payment_method', models.CharField(blank=True, max_length=50, verbose_name='Ödeme Yöntemi')),
                ('payment_info', models.JSONField(blank=True, default=dict, verbose_name='Ödeme Bilgileri')),
                ('payment_date', models.DateTimeField(blank=True, null=True, verbose_name='Ödeme Tarihi')),
                ('payment_completed_at', models.DateTimeField(blank=True, null=True, verbose_name='Ödeme Tamamlanma Tarihi')),
                ('payment_transaction', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='ferry_ticket_vouchers', to='payments.paymenttransaction', verbose_name='Ödeme İşlemi')),
                ('ticket', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='vouchers', to='ferry_tickets.ferryticket', verbose_name='Bilet')),
                ('voucher_template', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='vouchers', to='ferry_tickets.ferryticketvouchertemplate', verbose_name='Voucher Şablonu')),
            ],
            options={
                'verbose_name': 'Bilet Voucher',
                'verbose_name_plural': "Bilet Voucher'ları",
                'ordering': ['-created_at'],
                'indexes': [models.Index(fields=['ticket'], name='ferry_ticke_ticket__efea8f_idx'), models.Index(fields=['voucher_code'], name='ferry_ticke_voucher_473447_idx'), models.Index(fields=['access_token'], name='ferry_ticke_access__c9e6a2_idx'), models.Index(fields=['payment_status'], name='ferry_ticke_payment_dd9d14_idx')],
            },
        ),
        migrations.CreateModel(
            name='FerryTicketPayment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Oluşturulma Tarihi')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Güncellenme Tarihi')),
                ('is_deleted', models.BooleanField(default=False, verbose_name='Silinmiş mi?')),
                ('deleted_at', models.DateTimeField(blank=True, null=True, verbose_name='Silinme Tarihi')),
                ('payment_date', models.DateField(db_index=True, verbose_name='Ödeme Tarihi')),
                ('payment_amount', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='Ödeme Tutarı')),
                ('payment_method', models.CharField(choices=[('cash', 'Nakit'), ('credit_card', 'Kredi Kartı'), ('debit_card', 'Banka Kartı'), ('transfer', 'Havale/EFT'), ('check', 'Çek'), ('online', 'Online Ödeme')], max_length=50, verbose_name='Ödeme Yöntemi')),
                ('payment_type', models.CharField(choices=[('advance', 'Ön Ödeme'), ('full', 'Tam Ödeme'), ('refund', 'İade')], default='advance', max_length=20, verbose_name='Ödeme Tipi')),
                ('currency', models.CharField(default='TRY', max_length=3, verbose_name='Para Birimi')),
                ('payment_reference', models.CharField(blank=True, help_text='Banka referans numarası, işlem ID vb.', max_length=100, verbose_name='Ödeme Referansı')),
                ('payment_info', models.JSONField(blank=True, default=dict, help_text='Ek ödeme bilgileri', verbose_name='Ödeme Bilgileri')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_ferry_ticket_payments', to=settings.AUTH_USER_MODEL, verbose_name='Oluşturan Kullanıcı')),
                ('ticket', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='payments', to='ferry_tickets.ferryticket', verbose_name='Bilet')),
            ],
            options={
                'verbose_name': 'Bilet Ödemesi',
                'verbose_name_plural': 'Bilet Ödemeleri',
                'ordering': ['-payment_date', '-created_at'],
                'indexes': [models.Index(fields=['ticket'], name='ferry_ticke_ticket__b3d86d_idx'), models.Index(fields=['payment_date'], name='ferry_ticke_payment_9fa2e2_idx')],
            },
        ),
        migrations.CreateModel(
            name='FerryTicketGuest',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Oluşturulma Tarihi')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Güncellenme Tarihi')),
                ('is_deleted', models.BooleanField(default=False, verbose_name='Silinmiş mi?')),
                ('deleted_at', models.DateTimeField(blank=True, null=True, verbose_name='Silinme Tarihi')),
                ('ticket_type', models.CharField(choices=[('adult', 'Yetişkin'), ('child', 'Çocuk'), ('infant', 'Bebek'), ('student', 'Öğrenci'), ('senior', 'Yaşlı'), ('disabled', 'Engelli')], default='adult', max_length=20, verbose_name='Bilet Tipi')),
                ('guest_order', models.IntegerField(default=1, verbose_name='Yolcu Sırası')),
                ('first_name', models.CharField(max_length=100, verbose_name='Ad')),
                ('last_name', models.CharField(max_length=100, verbose_name='Soyad')),
                ('gender', models.CharField(blank=True, choices=[('male', 'Erkek'), ('female', 'Kadın'), ('other', 'Diğer')], max_length=10, verbose_name='Cinsiyet')),
                ('birth_date', models.DateField(blank=True, null=True, verbose_name='Doğum Tarihi')),
                ('age', models.IntegerField(blank=True, null=True, verbose_name='Yaş')),
                ('tc_no', models.CharField(blank=True, max_length=11, verbose_name='TC Kimlik No')),
                ('passport_no', models.CharField(blank=True, max_length=50, verbose_name='Pasaport No')),
                ('passport_serial_no', models.CharField(blank=True, max_length=20, verbose_name='Pasaport Seri No')),
                ('id_serial_no', models.CharField(blank=True, max_length=20, verbose_name='Kimlik Seri No')),
                ('nationality', models.CharField(default='Türkiye', max_length=100, verbose_name='Uyruk')),
                ('phone', models.CharField(blank=True, max_length=20, verbose_name='Telefon')),
                ('email', models.EmailField(blank=True, max_length=254, verbose_name='E-posta')),
                ('ticket', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='guests', to='ferry_tickets.ferryticket', verbose_name='Bilet')),
            ],
            options={
                'verbose_name': 'Bilet Yolcusu',
                'verbose_name_plural': 'Bilet Yolcuları',
                'ordering': ['ticket', 'guest_order'],
                'unique_together': {('ticket', 'guest_order')},
            },
        ),
        migrations.AddIndex(
            model_name='ferryticket',
            index=models.Index(fields=['ticket_code'], name='ferry_ticke_ticket__fb655a_idx'),
        ),
        migrations.AddIndex(
            model_name='ferryticket',
            index=models.Index(fields=['schedule'], name='ferry_ticke_schedul_fdbc72_idx'),
        ),
        migrations.AddIndex(
            model_name='ferryticket',
            index=models.Index(fields=['status'], name='ferry_ticke_status_3c8477_idx'),
        ),
        migrations.AddIndex(
            model_name='ferryticket',
            index=models.Index(fields=['customer'], name='ferry_ticke_custome_45eafd_idx'),
        ),
        migrations.AddIndex(
            model_name='ferryschedule',
            index=models.Index(fields=['departure_date'], name='ferry_ticke_departu_e0c1f2_idx'),
        ),
        migrations.AddIndex(
            model_name='ferryschedule',
            index=models.Index(fields=['route', 'departure_date'], name='ferry_ticke_route_i_fc3dfe_idx'),
        ),
        migrations.AddIndex(
            model_name='ferryschedule',
            index=models.Index(fields=['is_active', 'departure_date'], name='ferry_ticke_is_acti_3954ec_idx'),
        ),
        migrations.AddIndex(
            model_name='ferryapisync',
            index=models.Index(fields=['api_config', '-started_at'], name='ferry_ticke_api_con_b912d2_idx'),
        ),
        migrations.AddIndex(
            model_name='ferryapisync',
            index=models.Index(fields=['status'], name='ferry_ticke_status_e2262c_idx'),
        ),
    ]
